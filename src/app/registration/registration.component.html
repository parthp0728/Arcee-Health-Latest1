<div class="signup-container">
  <mat-card>
    <div class="title">
      <h3>Sign Up</h3>
      <p>Already have an account? <a routerLink="/login" class="signin-link">Sign In</a></p>
    </div>
    <mat-card-content>
      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        
        <!-- First Name -->
        <label for="firstName" class="input-label">First Name</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>First Name</mat-label>
          <input matInput placeholder="Enter your first name" formControlName="firstName" />
          <mat-error *ngIf="registrationForm.get('firstName')?.touched && registrationForm.get('firstName')?.invalid">
            First name is required
          </mat-error>
        </mat-form-field>

        <!-- Last Name -->
        <label for="lastName" class="input-label">Last Name</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Last Name</mat-label>
          <input matInput placeholder="Enter your last name" formControlName="lastName" />
          <mat-error *ngIf="registrationForm.get('lastName')?.touched && registrationForm.get('lastName')?.invalid">
            Last name is required
          </mat-error>
        </mat-form-field>

        <!-- Email Address -->
        <label for="email" class="input-label">Email Address</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email Address</mat-label>
          <input matInput placeholder="Enter your email" formControlName="email" />
          <mat-error *ngIf="registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid">
            Please enter a valid email address
          </mat-error>
        </mat-form-field>

        <!-- Password -->
        <label for="password" class="input-label">Password</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Password</mat-label>
          <input matInput [type]="hidePassword ? 'password' : 'text'" placeholder="Enter your password" formControlName="password" />
          <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button">
            <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error *ngIf="registrationForm.get('password')?.touched && registrationForm.get('password')?.invalid">
            Password is required
          </mat-error>
        </mat-form-field>

        <!-- Confirm Password -->
        <label for="confirmPassword" class="input-label">Confirm Password</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Confirm Password</mat-label>
          <input matInput [type]="hideConfirmPassword ? 'password' : 'text'" placeholder="Confirm your password" formControlName="confirmPassword" />
          <button mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword" type="button">
            <mat-icon>{{ hideConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error *ngIf="registrationForm.get('confirmPassword')?.touched && registrationForm.get('confirmPassword')?.invalid">
            Please confirm your password
          </mat-error>
        </mat-form-field>

        <!-- Date of Birth -->
        <label for="dateOfBirth" class="input-label">Date of Birth</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Date of Birth</mat-label>
          <input matInput [matDatepicker]="picker" placeholder="Enter your date of birth" formControlName="dateOfBirth" />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="registrationForm.get('dateOfBirth')?.touched && registrationForm.get('dateOfBirth')?.invalid">
            Date of birth is required
          </mat-error>
        </mat-form-field>

        <!-- Gender -->
        <label for="gender" class="input-label">Gender</label>
        <mat-radio-group formControlName="gender" class="gender-group">
          <mat-radio-button value="male">Male</mat-radio-button>
          <mat-radio-button value="female">Female</mat-radio-button>
          <mat-radio-button value="other">Other</mat-radio-button>
        </mat-radio-group>

        <!-- Address -->
        <label for="address" class="input-label">Address</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Address</mat-label>
          <input type="text" matInput placeholder="Enter your address" formControlName="address" [matAutocomplete]="auto" />
          <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let option of addressOptions | async" [value]="option">
              {{ option }}
            </mat-option>
          </mat-autocomplete>
          <mat-error *ngIf="registrationForm.get('address')?.touched && registrationForm.get('address')?.invalid">
            Address is required
          </mat-error>
        </mat-form-field>

        <!-- Security Questions and Answers -->
        <label for="securityQuestion1" class="input-label">Security Question 1</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Security Question 1</mat-label>
          <mat-select formControlName="securityQuestion1">
            <mat-option *ngFor="let question of securityQuestions" [value]="question">{{ question }}</mat-option>
          </mat-select>
          <mat-error *ngIf="registrationForm.get('securityQuestion1')?.touched && registrationForm.get('securityQuestion1')?.invalid">
            Security question is required
          </mat-error>
        </mat-form-field>
        
        <label for="SecurityAnswer1" class="input-label">Security Answer 1</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Answer 1</mat-label>
          <input matInput placeholder="Enter your answer" formControlName="securityAnswer1" />
          <mat-error *ngIf="registrationForm.get('securityAnswer1')?.touched && registrationForm.get('securityAnswer1')?.invalid">
            Answer is required
          </mat-error>
        </mat-form-field>

        <label for="securityQuestion2" class="input-label">Security Question 2</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Security Question 2</mat-label>
          <mat-select formControlName="securityQuestion2">
            <mat-option *ngFor="let question of securityQuestions" [value]="question">{{ question }}</mat-option>
          </mat-select>
          <mat-error *ngIf="registrationForm.get('securityQuestion2')?.touched && registrationForm.get('securityQuestion2')?.invalid">
            Security question is required
          </mat-error>
        </mat-form-field>

        <label for="SecurityAnswer2" class="input-label">Security Answer 2</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Answer 2</mat-label>
          <input matInput placeholder="Enter your answer" formControlName="securityAnswer2" />
          <mat-error *ngIf="registrationForm.get('securityAnswer2')?.touched && registrationForm.get('securityAnswer2')?.invalid">
            Answer is required
          </mat-error>
        </mat-form-field>

        <label for="securityQuestion3" class="input-label">Security Question 3</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Security Question 3</mat-label>
          <mat-select formControlName="securityQuestion3">
            <mat-option *ngFor="let question of securityQuestions" [value]="question">{{ question }}</mat-option>
          </mat-select>
          <mat-error *ngIf="registrationForm.get('securityQuestion3')?.touched && registrationForm.get('securityQuestion3')?.invalid">
            Security question is required
          </mat-error>
        </mat-form-field>

        <label for="SecurityAnswer3" class="input-label">Security Answer 3</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Answer 3</mat-label>
          <input matInput placeholder="Enter your answer" formControlName="securityAnswer3" />
          <mat-error *ngIf="registrationForm.get('securityAnswer3')?.touched && registrationForm.get('securityAnswer3')?.invalid">
            Answer is required
          </mat-error>
        </mat-form-field>

        <!-- Register Button -->
        <button mat-raised-button color="primary" class="signup-btn" type="submit" [disabled]="registrationForm.invalid">Register</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
